{% extends 'base.html' %}
{% block content_user %}
<div class="container my-4">
  <h2 class="fw-bold mb-4"><i class="bi bi-bar-chart-fill me-2"></i>Mis Calificaciones</h2>
  <table class="table table-bordered table-striped">
    <thead class="table-light">
      <tr>
        <th>Materia</th>
        <th>Calificaci√≥n</th>
      </tr>
    </thead>
    <tbody>
      {% for subject in subjects %}
      <tr>
        <td>{{ subject.name }}</td>
        <td>
          {% set grade = None %}
          {% for g in grades if g.subject_id == subject.id %}
            {% set grade = g.grade_value %}
          {% endfor %}
          {% if grade is not none %}
            <span class="fw-bold text-success">{{ grade }}</span>
          {% else %}
            <span class="text-muted">Sin calificar</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="mt-3 text-muted">Total de materias: {{ subjects|length }}</div>
</div>
{% endblock %}
